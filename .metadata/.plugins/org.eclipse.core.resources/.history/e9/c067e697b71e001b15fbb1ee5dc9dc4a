package rechercheV1;

public class Justification {
	
	static int tailleMARGE = 5;
	

	public static void main(String[] args) {
		
	//règle de gestion :
		//- les marges sont inclues dans la tailel de la ligne (5car - 110 - 5car)
		
	//PARAMETRES :
//		-taille des marges : entier
//		-taille de la ligne : entier (120)
//		-texte à justifier : chaine de caractères (string)
		
		
		
	//TRAITEMENTS
		
		// 1 - initialiser le String et le convertir en tableau de char
		String string = "    Ce texte,   qui  est volontairement très            mal  tapé, est justifié   correctement.";
		System.out.println(string.length());
		char[] monCar = string.toCharArray();
		
		int tailleLIGNE = 120;
		// 2 - définir : nombre de mots
		// 5 - nombre séparateur
		int nbMots = 0;
		int nbSep = 0;
		
		for (int i = 0; i < monCar.length-1; i++) {
			if(monCar[i] != ' ' && monCar[i+1] == ' ')
			{
				nbSep += 1; 
			}
		}
		nbMots = nbSep + 1;
		System.out.println("il y a " + nbMots + " mots et " + nbSep + " séparateurs");
		
		// 3 - nombre de lettres/caractères,
		// 4 - nombre d'espaces total
		int lettres = 0;
		int espaces = 0;
		for (int i = 0; i < monCar.length; i++) {
			if(monCar[i] == ' ') {
				espaces += 1;
			} else if(monCar[i] != ' ') {
				lettres += 1;
			}
		}
		System.out.println("il y a " + lettres + " lettres et " + espaces + " espaces");
		
		
		// 6 - définir la taille séparateur
		
		int tailleSep = (tailleLIGNE - 2*tailleMARGE - lettres)/nbSep;
		int tailleSepReste = (tailleLIGNE - 2*tailleMARGE - lettres)%nbSep;
		System.out.println(tailleSep + "   mais il reste " + tailleSepReste);
		// 7 - fabriquer le texte justifié (table de car)
		// 		ecrire la marge de gauche
		//		Répéter
			//		ecrire un mot : sequence de lettres sans espace
			//		ecrire un separateur : quand j'ai un espace qui suit une lettre
		//jusquà la fin
		//ecrire la marge de droite
		
		char[] monCarJust = new char[120];
		
		for (int i = 0; i < tailleMARGE; i++) {
			monCarJust[i] = '*';
		}
		/*
		 * for (char c : monCarJust) {
			System.out.println(c);
		}
		*/
		
		int lag = tailleMARGE;
		boolean flag = false;
		
		for (int i = 0; i </*monCar.length*/ 74; i++) {
			//System.out.println("This is the current i is " + i) ;
			//System.out.println("This is the current i + lag is " + (i+lag )) ;
			
			if(monCar[i] != ' ') {
				System.out.println("Première condition ");
				
				System.out.println("This is the current i of table 1 " + monCar[i] + " at " + i) ;
				
				
				monCarJust[i+lag] = monCar[i];
				
				System.out.println("This is i + lag of table 2 = " + monCarJust[i+lag] + " at " + (i+lag));
				
			} else if (i > 0 && monCar[i] == ' ' && monCar[i-1] != ' ' && flag) {
				System.out.println("Deuxième condition ");
				for (int j = 0; j < tailleSep; j++) {
					
					System.out.println("This is i + lag in the tailleSep section = " + (i+lag));
					monCarJust[i+lag] = '#';
					lag +=1;
					
				}
				
				if(tailleSepReste > 0) {
					monCarJust[i+lag] = '#';
					tailleSepReste = tailleSepReste - 1;
					System.out.println("This is i + lag in tailleSepReste = " + (i+lag) + " et il"
							+ " reste " + tailleSepReste + " Sep restants");
					System.out.println(monCarJust[i+lag]);
					
				}
		}
		

		for (char c : monCarJust) {
			System.out.print(c);
		}
			
		
		
		
		
		
	}

}
